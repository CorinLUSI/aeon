!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,n){return(u=l()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&c(r,n.prototype),r}).apply(null,arguments)}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return u(t,arguments,s(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=function(e){function r(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,r),(e=p(this,s(r).call(this)))._=h(e),e.$={},e.attrToProp={},e.propToAttr={},Object.keys(e.constructor.props).forEach((function(t){var n=e.constructor.attributeName(t);e.attrToProp[n]=t,e.propToAttr[t]=n})),n&&(e.attachShadow(a({mode:"open"},o)),e._=e.shadowRoot);var c=Object.keys(e.constructor.props).reduce((function(t,n){return a({},t,i({},n,e[n]))}),{});return Promise.resolve().then((function(){e._props={},Object.keys(e.constructor.props).forEach((function(t){var n=e.propToAttr[t],i=e.hasAttribute(n)?e.getAttribute(n):void 0!==c[t]?c[t]:e[t];Object.defineProperty(h(e),t,{set:e.setter(t),get:e.getter(t)}),e[t]=i}))})),e._renderPromise=null,e._isConnected=!1,e._triggers={},e}return o(r,e),n(r,null,[{key:"attributeName",value:function(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}},{key:"props",get:function(){return{}}},{key:"observedAttributes",get:function(){var t=this;return Object.keys(this.props).filter((function(e){return[Boolean,Number,String].includes(t.props[e].type)})).map((function(e){return t.attributeName(e)}))}}]),n(r,[{key:"connectedCallback",value:function(){this._isConnected=!0,this._render(!0,!0)}},{key:"disconnectedCallback",value:function(){this._isConnected=!1}},{key:"_requestRender",value:function(){var t=this;this._renderPromise||(this._renderPromise=Promise.resolve().then((function(){t._render()})))}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e||this.shouldRender(this._triggers)&&Object.keys(this._triggers).length)&&(this._renderPromise=Promise.resolve().then((function(){n&&(t.firstRender(t._,t._triggers),t.$=y(t._.querySelectorAll("[id]")).reduce((function(t,e){return a({},t,i({},e.id,e))}),{}),t.firstRendered(t._,t._triggers)),t.render(t._,t._triggers),t.rendered(t._,t._triggers),t._renderPromise=null,t._triggers={}})))}},{key:"forceRender",value:function(){this._render(!0)}},{key:"shouldRender",value:function(){return!0}},{key:"firstRender",value:function(){}},{key:"render",value:function(){}},{key:"firstRendered",value:function(){}},{key:"rendered",value:function(){}},{key:"setter",value:function(t){var e=this,n=this.propToAttr[t];return function(i){if(e._props[t]!==i){t in e._triggers||(e._triggers[t]=e._props[t]),e._props[t]=i;var r=e.constructor.props[t];if([Boolean,String,Number].includes(r.type)&&e.constructor.observedAttributes.includes(n)){var a=i;r.type===Boolean?(a=a||""===a)?e.setAttribute(n,""):e.removeAttribute(n):e.getAttribute(n)!==a&&([null,void 0].includes(a)?e.removeAttribute(n):e.setAttribute(n,a))}e._isConnected&&e._requestRender()}}}},{key:"getter",value:function(t){var e=this;return function(){return e._props[t]}}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this.attrToProp[t],r=n;switch(this.constructor.props[i].type){case Boolean:r=""===r;break;case Number:r=Number(r)}this[i]!==r&&(this[i]=r)}}]),r}(d(HTMLElement)),m=function(e){function i(){var e;t(this,i),e=p(this,s(i).call(this));var n=new Date;e.showTime=!1,e.confirmOnDate=!1,e.alignTop=!1,e.alignRight=!1,e.dateStyle={},e.startYear=n.getFullYear()-100,e.endYear=n.getFullYear()+5,e.startDay=1;try{var r=document.createElement("input");r.type="date",e.hasNative="date"===r.type}catch(t){e.hasNative=!1}return e.onLabelClick=e.onLabelClick.bind(h(e)),e.onClickOutside=e.onClickOutside.bind(h(e)),e}return o(i,e),n(i,null,[{key:"props",get:function(){return{date:{type:String},time:{type:String},value:{type:Object},showTime:{type:Boolean},confirmOnDate:{type:Boolean},locale:{type:String},dateStyle:{type:Object},startYear:{type:String},endYear:{type:String},startDay:{type:String},defaultDate:{type:String},defaultTime:{type:String},hasNative:{type:Boolean},useNative:{type:Boolean},alignTop:{type:Boolean},alignRight:{type:Boolean}}}}]),n(i,[{key:"connectedCallback",value:function(){f(s(i.prototype),"connectedCallback",this).call(this),document.addEventListener("click",this.onClickOutside)}},{key:"disconnectedCallback",value:function(){var t=this;f(s(i.prototype),"disconnectedCallback",this).call(this),this._dateInput&&y(this._dateInput.labels||[]).forEach((function(e){e.removeEventListener("click",t.onLabelClick)})),document.removeEventListener("click",this.onClickOutside)}},{key:"firstRender",value:function(t){var e=document.createElement("template");e.innerHTML='\n      <style>\n        :host {\n          position: relative;\n          display: inline-block;\n\n          --rgb: var(--cal-rgb, 0, 0, 0);\n          --bgRgb: var(--cal-bg-rgb, 248, 248, 248);\n          --color: rgb(var(--rgb));\n          --hintColor: rgba(var(--rgb), 0.2);\n          --bgColor: rgb(var(--bgRgb));\n\n          color: var(--color);\n        }\n\n        slot:not([name]) {\n          display: none;\n        }\n\n        :host([has-native][use-native]) slot {\n          display: none;\n        }\n\n        :host([has-native][use-native]) slot:not([name]) {\n          display: contents;\n        }\n\n        aeon-calendar {\n          position: absolute;\n          top: 100%;\n          left: 0;\n        }\n\n        :host([align-top]) aeon-calendar {\n          top: auto;\n          bottom: 100%;\n        }\n\n        :host([align-right]) aeon-calendar {\n          left: auto;\n          right: 0;\n        }\n\n        @media (max-width: 640px) {\n          aeon-calendar,\n          :host([align-top]) aeon-calendar,\n          :host([align-right]) aeon-calendar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n          }\n        }\n      </style>\n\n      <slot></slot>\n      <slot name="output"></slot>\n\n      <aeon-calendar id="calendar"></aeon-calendar>\n    ',window.ShadyCSS&&ShadyCSS.prepareTemplate(e,"aeon-datepicker"),window.ShadyCSS&&ShadyCSS.styleElement(this),t.appendChild(e.content.cloneNode(!0))}},{key:"firstRendered",value:function(t){var e=this,n=t.querySelector("slot");n.addEventListener("slotchange",(function(t){var i=n.assignedNodes().filter((function(t){return t.nodeType!=Node.TEXT_NODE}));e._dateInput=i.find((function(t){return"date"===t.getAttribute("type")})),e._dateInput&&(e._output.placeholder=e._dateInput.placeholder,(e._dateInput.labels||[]).forEach((function(t){t.addEventListener("click",e.onLabelClick)})),e.date=e._dateInput.value),e._timeInput=i.find((function(t){return"time"===t.getAttribute("type")})),e._timeInput&&(e.showTime=!0,e.time=e._timeInput.value)})),this._output=document.createElement("input"),this._output.slot="output",this._output.readOnly=!0,this._output.addEventListener("click",(function(){e.openCalendar()})),this.appendChild(this._output),this.addEventListener("keyup",(function(t){switch(t.key){case" ":e.$.calendar.open||e.openCalendar()}})),this.$.calendar.addEventListener("change",(function(t){e.date=t.target.value.date,e.time=t.target.value.time,e.closeCalendar()})),this.$.calendar.addEventListener("clear",(function(){e.date=""})),this.$.calendar.addEventListener("close",(function(){e._dontFocus||e._output.focus(),e._dontFocus=!1}))}},{key:"render",value:function(t,e){("date"in e||"time"in e)&&(this.value={date:this.date,time:this.time},this.updateFromString(this.date,this.time),this.dispatchEvent(new Event("change",{bubbles:!0}))),("locale"in e||"startYear"in e||"endYear"in e||"startDay"in e||"showTime"in e||"confirmOnDate"in e)&&this.updateFromString(this.date,this.time)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t&&!isNaN(t),n=t;if(!e){var i=this.defaultDate,r=this.defaultTime;n=this.parseDate(i,r)}var o=this.$.calendar;if(o.year=n.getFullYear(),o.month=n.getMonth(),o.day=n.getDate(),o.hours=n.getHours(),o.minutes=n.getMinutes(),o.locale=this.locale,o.startYear=this.startYear,o.endYear=this.endYear,o.startDay=this.startDay,o.showTime=this.showTime,o.confirmOnDate=this.confirmOnDate,e){var s=new Intl.DateTimeFormat(this.locale||void 0,a({year:"numeric",month:"numeric",day:"numeric"},this.showTime?{hour:"numeric",minute:"numeric"}:{},{},this.dateStyle)).format(t);this._output.value=s,this._dateInput&&(this._dateInput.value=this.date),this._timeInput&&(this._timeInput.value=this.time)}else this._output.value="",this._dateInput&&(this._dateInput.value=""),this._timeInput&&(this._timeInput.value="")}},{key:"openCalendar",value:function(){var t=this.getBoundingClientRect(),e=t.top,n=window.innerHeight-t.bottom,i=t.left,r=window.innerWidth-t.right;this.alignTop=n<e,this.alignRight=r<i,this.$.calendar.open=!0}},{key:"closeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$.calendar.open=!1,this._dontFocus=t}},{key:"parseDate",value:function(t,e){try{var n=t.split("-"),i=(e||this.defaultTime||"00:00").split(":");return new Date(n[0],parseInt(n[1],10)-1,n[2],i[0],i[1])}catch(t){return new Date}}},{key:"updateFromString",value:function(t,e){this.update(this.parseDate(t,e))}},{key:"onLabelClick",value:function(t){this.useNative&&this.hasNative||(t.preventDefault(),this._output.focus())}},{key:"onClickOutside",value:function(t){var e=this;this.$.calendar.open&&(!t.composedPath().some((function(t){return t===e}))&&this.closeCalendar(!0))}}]),i}(v),g=function(e){function i(){var e;return t(this,i),(e=p(this,s(i).call(this))).items=[],e}return o(i,e),n(i,null,[{key:"props",get:function(){return{value:{type:Number},items:{type:Array}}}}]),n(i,[{key:"firstRender",value:function(t){var e=document.createElement("template");e.innerHTML='\n      <style>\n        select {\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          padding: 0.5rem;\n          padding-right: 1.5rem;\n          font-family: inherit;\n          font-size: inherit;\n          border-radius: 0;\n          border: 1px solid var(--hintColor);\n          background-color: transparent;\n          color: var(--color);\n          width: 100%;\n        }\n\n        select::-ms-expand {\n          display: none;\n        }\n\n        .select {\n          position: relative;\n        }\n\n        .select .indicator {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          right: 0.2rem;\n          pointer-events: none;\n          display: flex;\n          align-items: center;\n        }\n      </style>\n\n      <div class="select">\n        <select id="select">\n        </select>\n        <span class="indicator">\n          <svg width="24" height="24">\n            <g><path fill="currentColor" d="M7 10l5 5 5-5z"></path></g>\n          </svg>\n        </span>\n      </div>\n    ',window.ShadyCSS&&ShadyCSS.prepareTemplate(e,"aeon-select"),window.ShadyCSS&&ShadyCSS.styleElement(this),t.appendChild(e.content.cloneNode(!0))}},{key:"focus",value:function(){this.$.select.focus()}},{key:"firstRendered",value:function(t){var e=this;this.$.select.addEventListener("change",(function(t){e.value=t.target.value}))}},{key:"render",value:function(t,e){"value"in e&&this.dispatchEvent(new Event("change",{bubbles:!0})),this.$.select.innerHTML=this.items.map((function(t){return'<option value="'.concat(t.value,'">').concat(t.name,"</option>")})).join(""),this.$.select.value=this.value}}]),i}(v),b=function(e){function i(){var e;return t(this,i),(e=p(this,s(i).call(this))).showTime=!1,e.confirmOnDate=!1,e.days=[],e.open=!1,e}return o(i,e),n(i,null,[{key:"props",get:function(){return{date:{type:String},time:{type:String},value:{type:Object},showTime:{type:Boolean},confirmOnDate:{type:Boolean},locale:{type:String},startYear:{type:String},endYear:{type:String},startDay:{type:String},days:{type:Array},year:{type:Number},month:{type:Number},day:{type:Number},hours:{type:Number},minutes:{type:Number},open:{type:Boolean}}}}]),n(i,[{key:"connectedCallback",value:function(){f(s(i.prototype),"connectedCallback",this).call(this),this.addEventListener("keydown",this.onKeyDown.bind(this))}},{key:"firstRender",value:function(t){var e=document.createElement("template");e.innerHTML='\n      <style>\n        :host {\n          display: none;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n\n          position: relative;\n          z-index: 1;\n          padding: 0.2rem;\n          background-color: var(--bgColor);\n        }\n\n        :host([open]) {\n          display: flex;\n        }\n\n        .week {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .day, .date, button {\n          color: var(--color);\n          background-color: transparent;\n          border: 0;\n          box-sizing: border-box;\n          width: 2.4rem;\n          height: 2.4rem;\n          padding: 0;\n          font-family: inherit;\n          font-size: calc(2.4rem / 3);\n\n          text-transform: uppercase;\n\n          flex-grow: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .date {\n          border: 1px solid var(--hintColor);\n          border-width: 0 0 1px 1px;\n        }\n\n        .date:last-child {\n          border-right-width: 1px;\n        }\n\n        .date.last + .spacer {\n          border-left-width: 1px;\n        }\n\n        .week:nth-child(2) .date:not(.spacer) {\n          border-top-width: 1px;\n        }\n\n        .week:last-child .spacer {\n          border-right-width: 0;\n          border-bottom-width: 0;\n        }\n\n        .date.today {\n          font-weight: bold;\n        }\n\n        .date:hover, .date.today {\n          font-size: 1.3rem;\n        }\n\n        .date.spacer {\n          border-left-width: 0;\n          pointer-events: none;\n        }\n\n        #buttons {\n          width: 100%;\n          display: flex;\n          justify-content: space-between;\n          margin-top: 0.5em;\n          border-top: 1px solid var(--hintColor);\n        }\n\n        #year-month, #hours-minutes {\n          display: flex;\n          width: 100%;\n        }\n\n        #year-month aeon-select {\n          width: 50%;\n        }\n\n        #year-month aeon-select + aeon-select {\n          margin-left: 0.5rem;\n        }\n\n        #hours-minutes {\n          padding-top: 0.5em;\n          margin-top: 0.5em;\n          border-top: 1px solid var(--hintColor);\n          display: none;\n          justify-content: center;\n          align-items: center;\n        }\n\n        #hours-minutes aeon-select {\n          width: 3.5rem;\n        }\n\n        #hours-minutes aeon-select#hours {\n          margin-right: 0.2em;\n        }\n\n        #hours-minutes aeon-select#minutes {\n          margin-left: 0.2em;\n        }\n\n        :host([show-time]) #hours-minutes {\n          display: flex;\n        }\n      </style>\n\n      <div id="container">\n        <div id="year-month">\n          <aeon-select id="year"></aeon-select>\n          <aeon-select id="month"></aeon-select>\n        </div>\n        <div id="calendar"></div>\n        <div id="hours-minutes">\n          <aeon-select id="hours"></aeon-select>:<aeon-select id="minutes"></aeon-select>\n        </div>\n        <div id="buttons">\n          <button id="confirm" title="Confirm">\n            <svg width="24" height="24">\n              <g><path fill="currentColor" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g>\n            </svg>\n          </button>\n          <button id="cancel" title="Cancel">\n            <svg width="24" height="24">\n              <g><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>\n            </svg>\n          </button>\n          <button id="clear" title=\'Clear\'>\n            <svg width="24" height="24">\n              <g><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g>\n            </svg>\n          </button>\n        </div>\n      </div>\n    ',window.ShadyCSS&&ShadyCSS.prepareTemplate(e,"aeon-calendar"),window.ShadyCSS&&ShadyCSS.styleElement(this),t.appendChild(e.content.cloneNode(!0))}},{key:"firstRendered",value:function(t){var e=this;this.addEventListener("keyup",(function(t){switch(t.key){case"Escape":e.open=!1}})),this.$.year.addEventListener("change",(function(t){e.year=t.target.value})),this.$.month.addEventListener("change",(function(t){e.month=t.target.value})),this.$.hours.items=[];for(var n=0;n<24;n++)this.$.hours.items.push({name:"".concat(n).padStart(2,"0"),value:n});this.$.hours.addEventListener("change",(function(t){e.hours=t.target.value})),this.$.minutes.items=[];for(var i=0;i<60;i++)this.$.minutes.items.push({name:"".concat(i).padStart(2,"0"),value:i});this.$.minutes.addEventListener("change",(function(t){e.minutes=t.target.value})),this.$.calendar.addEventListener("click",this.onDateClick.bind(this)),this.$.cancel.addEventListener("click",(function(){e.open=!1})),this.$.confirm.addEventListener("click",(function(){e.confirm()})),this.$.clear.addEventListener("click",(function(){e.dispatchEvent(new Event("clear",{bubbles:!0})),e.open=!1}))}},{key:"render",value:function(t,e){var n=this;"open"in e&&!1===this.open&&!0===e.open&&this.dispatchEvent(new Event("close",{bubbles:!0})),("year"in e||"month"in e||"day"in e)&&(this.date=this.formatAsDate(this.year,this.month,this.day)),("hours"in e||"minutes"in e)&&(this.time=this.formatAsTime(this.hours,this.minutes));var i=new Date;i.setMonth(0),i.setDate(1),this.$.year.value=this.year,this.$.year.items=[];for(var r=this.startYear;r<=this.endYear;r++)this.$.year.items.push({value:r,name:r});this.$.month.value=this.month,this.$.month.items=[];for(var a=0;a<12;a++){var o=i.getMonth();this.$.month.items.push({value:o,name:i.toLocaleString(this.locale||void 0,{month:"short"})}),i.setMonth(a+1)}this.$.month.items.sort((function(t,e){return t.num-e.num})),i.setMonth(0),i.setDate(1),this.days=[];for(var s=0;s<7;s++){var c=i.getDay();this.days.push({num:c,name:i.toLocaleString(this.locale||void 0,{weekday:"short"})}),i.setDate(s+2)}var l=7-this.startDay;this.days.sort((function(t,e){return(t.num+l)%7-(e.num+l)%7})),this.$.hours.value=this.hours,this.$.minutes.value=this.minutes;var u=new Date(this.year,this.month,1,12),d=u.getDay();u.setMonth(u.getMonth()+1),u.setDate(0);var h=u.getDate();u=new Date(this.year,this.month,1,12);var p=!1,f=!1,y=0;this.$.calendar.innerHTML='\n      <div class="week">\n        '.concat(this.days.map((function(t){return'<div class="day">'.concat(t.name,"</div>")})).join(""),"\n      </div>\n\n      ").concat([0,1,2,3,4,5].map((function(){return y>=h?null:'\n          <div class="week">\n            '.concat(n.days.map((function(t){t.num%7===d&&(p=!0);var e="";p&&((y+=1)<=h?(e=y,u.setDate(e)):f=!0);var i=y===n.day;return'\n                  <button class="date '.concat(i?"today":""," ").concat(!p||f?"spacer":""," ").concat(y===h?"last":"",'" data-day="').concat(y,'" ').concat(!p||f?"tabindex='-1' disabled":"",">").concat(e,"</button>\n              ")})).join(""),"\n          </div>\n         ")})).join(""),"\n    ");var v=t.querySelectorAll("button:not([disabled]), aeon-select");this._firstFocusableEl=v[0],this._lastFocusableEl=v[v.length-1]}},{key:"rendered",value:function(t,e){!0===this.open&&("open"in e&&!1===e.open||"day"in e)&&t.querySelector(".today").focus()}},{key:"confirm",value:function(){this.date=this.formatAsDate(this.year,this.month,this.day),this.time=this.formatAsTime(this.hours,this.minutes),this.value={date:this.date,time:this.time},this.dispatchEvent(new Event("change",{bubbles:!0}))}},{key:"onKeyDown",value:function(t){if("Tab"===t.key){var e=this.shadowRoot.activeElement;t.shiftKey&&e===this._firstFocusableEl?(this._lastFocusableEl.focus(),t.preventDefault()):t.shiftKey||e!==this._lastFocusableEl||(this._firstFocusableEl.focus(),t.preventDefault())}}},{key:"onDateClick",value:function(t){if(t.target.classList.contains("date")){var e=t.target;this.day=parseInt(e.dataset.day,10),this.confirmOnDate&&!this.showTime&&this.confirm()}}},{key:"formatAsDate",value:function(t,e,n){return"".concat(t,"-").concat("".concat(e+1).padStart(2,"0"),"-").concat("".concat(n).padStart(2,"0"))}},{key:"formatAsTime",value:function(t,e){return"".concat("".concat(t).padStart(2,"0"),":").concat("".concat(e).padStart(2,"0"))}}]),i}(v);customElements.define("aeon-select",g),customElements.define("aeon-calendar",b),customElements.define("aeon-datepicker",m)}));
